<!DOCTYPE HTML>
<HTML><HEAD><META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><TITLE> HELP </TITLE>
<LINK REL="stylesheet" HREF="edes.php?R:$h/i/help2.css" TYPE="text/css">
</HEAD>
<BODY style='margin:0px' scroll=no oncontextmenu='return false;' onhelp='return false'><!-- [HelpIni] --><DIV style="BORDER-BOTTOM: 0px; BORDER-LEFT: 0px; MARGIN: 0px; PADDING-LEFT: 0px; WIDTH: 100%; FLOAT: left; HEIGHT: 100%; OVERFLOW: auto; BORDER-TOP: 0px; BORDER-RIGHT: 0px" id=CONTENIDO>
<TABLE id=Esquema cellSpacing=1px cellPadding=2px width="100%">
<TBODY>
<TR>
<TD id=Etiqueta>qQueryLog
<TR>
<TD id=tSintaxis>SINTAXIS
<TR>
<TD id=Sintaxis>qQueryLog( $Sql, $Tabla, $Where [, $Clave='' [, $User=$_User ] ]&nbsp;)
<TR>
<TD id=tDescripcion>DESCRIPCION
<TR>
<TD id=Descripcion>Ejecuta una sentencia sql solo insert o update grabando en la tabla gs_log para guardar el historial de modificaciones<BR>function qQueryLog( $sql, $xTabla, $xWhere, $xClave, $xUser
<TR>
<TD id=tParametro>PARAMETROS
<TR>
<TD id=Parametro>
<TABLE id=Opciones border=0 cellSpacing=1 cellPadding=2>
<COLGROUP>
<COL style="FONT-WEIGHT: bold">
<TBODY>
<TR>
<TD>$Sql&nbsp;</TD>
<TD>Sentencia completa a ejecutar ( insert o update)&nbsp;</TD></TR>
<TR>
<TD>$Tabla</TD>
<TD>Nombre de la tabla a guardar en gs_log</TD></TR>
<TR>
<TD>$Where</TD>
<TD>Where del sql</TD></TR>
<TR>
<TD>$Clave</TD>
<TD>Clave a guardar en gs_log, hay que tener en cuenta que si la clave primaria es compuesta en esta variable hay que poner los valores concatenados, en la inserciones que tengan campo serial el parámetro o no se debe enviar o se envía cadena vacia.</TD></TR>
<TR>
<TD>$User</TD>
<TD>Por defecto es el usuario actual, pero se deja abierto para cuando es el usuario del sistema</TD></TR></TBODY></TABLE>
<TR>
<TD id=tEjemplo>EJEMPLO
<TR>
<TD id=Ejemplo>qQueryLog( "update persona set nombre='NOMBRE', apelllidos='APELLIDOS' where cd_persona=1", 'persona', 'cd_persona=1', 1 );<BR>
<TR>
<TD id=txt></TR></TBODY></TABLE></DIV><!-- [HelpEnd] -->
<SCRIPT LANGUAGE="JavaScript">
Esquema.cellSpacing = 0;
if( document.getElementById("Ejemplo")!=null ){
	if( Ejemplo.length == undefined && Ejemplo.innerHTML.length == 0 ){
		tEjemplo.parentElement.style.display = 'none';
	}else{
		for( var i=0; i<Ejemplo.length; i++ ){
			if( Ejemplo[i].innerHTML.length == 0 ) Ejemplo[i].parentElement.style.display = 'none';
		}
	}
}
if( document.getElementById("Parametro")!=null && Parametro.innerHTML.length == 0 ) tParametro.parentElement.style.display = 'none';if( window.frameElement.getAttribute("eSubWin")==1 ) Etiqueta.style.display = "none";
window.focus();
</SCRIPT>
</BODY></HTML>